@model MachinePortal.Models.Machine

@{
    ViewData["Title"] = Model.Name;
    var LoggedUserName = ViewData["UserName"];
    var LoggedUserID = ViewData["UserID"];
}

<script src="~/lib/jquery/dist/jquery.min.js"></script>

<div class="card fb-card">
    <div style="background-color:#4B4B46;" class="card-header">

        <div class="d-inline-block">
            <h2 style="color:white">Machine: @ViewData["Title"]</h2>
        </div>
        <hr style="border:1px solid white" />
        <div class="d-inline-block">
            <h2 style="color:white">General Data</h2>
        </div>
    </div>
    <div class="card-block card-padding">
        <dl class="dl-horizontal">
            <dt>
                Machine Photo
            </dt>
            <dd>
                <img src="@Html.DisplayFor(model => model.ImagePath)" width="200" />
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Name)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Name)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Description)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Description)
            </dd>
        </dl>
    </div>
</div>

<div class="card fb-card">
    <div style="background-color:#4B4B46;" class="card-header">
        <div class="d-inline-block">
            <h2 style="color:white">Devices</h2>
        </div>
    </div>
    <div class="card-block card-padding">
        <dl class="dl-horizontal">
            <table class="table table-bordered table-vitesco02">
                <thead class="thead-vitesco02">
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.MachineDevices.First().Device.ImagePath)</th>
                        <th>@Html.DisplayNameFor(model => model.MachineDevices.First().Device.Name)</th>
                        <th>@Html.DisplayNameFor(model => model.MachineDevices.First().Device.Brand)</th>
                        <th>@Html.DisplayNameFor(model => model.MachineDevices.First().Device.Model)</th>
                        <th>@Html.DisplayNameFor(model => model.MachineDevices.First().Device.PartNumber)</th>
                        <th>@Html.DisplayNameFor(model => model.MachineDevices.First().Device.Description)</th>
                        <th>@Html.DisplayNameFor(model => model.MachineDevices.First().Device.Price)</th>
                        <th>@Html.DisplayNameFor(model => model.MachineDevices.First().Device.Supplier)</th>
                        <th>Details</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.MachineDevices)
                    {
                        <tr>
                            <td><img class="img-thumbnail" src="@Html.DisplayFor(modelItem => item.Device.ImagePath)" width="100" /></td>
                            <td>@Html.DisplayFor(modelItem => item.Device.Name)</td>
                            <td>@Html.DisplayFor(modelItem => item.Device.Brand)</td>
                            <td>@Html.DisplayFor(modelItem => item.Device.Model)</td>
                            <td>@Html.DisplayFor(modelItem => item.Device.PartNumber)</td>
                            <td>@Html.DisplayFor(modelItem => item.Device.Description)</td>
                            <td>@Html.DisplayFor(modelItem => item.Device.Price)</td>
                            <td>@Html.DisplayFor(modelItem => item.Device.Supplier)</td>
                            <td>
                                <a class="btn btn-primary" asp-controller="Devices" asp-action="Details" asp-route-id="@item.Device.ID">Details</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </dl>
    </div>
</div>

<div>
    <input type="hidden" asp-for="ID" />
    <input style="width:100px; font-weight:700;" type="button" value="Back" class="btn btn-primary" action="action" onclick="history.go(-1);" />
</div>

<input id="MachineID" style="display: none" value="@Html.DisplayFor(model => model.ID)" />